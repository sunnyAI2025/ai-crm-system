# CRM系统 - 角色管理页面设计线框图

## 页面概述
角色管理页面用于定义角色与账号权限的对应关系。管理部门、角色、权限和账号之间的多层级关系。

## 线框图设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  🎭 角色管理                                      [+ 新增角色] [权限模板] [导出] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │ 🔍 筛选条件                                                                │ │
│  │                                                                           │ │
│  │ 角色名称: [_______] 所属部门: [下拉选择▼] 角色状态: [下拉选择▼] 创建人: [下拉选择▼] │ │
│  │                                                                           │ │
│  │ 创建时间: [日期选择] - [日期选择]  权限范围: [下拉选择▼]     [🔍搜索] [重置]    │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │ 📊 角色概览                                                                │ │
│  │                                                                           │ │
│  │ 总角色: 12  |  启用角色: 10  |  本月新增: 2  |  待审核: 1  |  已停用: 1     │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │                              🎭 角色列表                                  │ │
│  │                                                                           │ │
│  │ ┌─┬──────────┬────────┬────────┬────────┬────────┬──────────┬────────┬────┐ │ │
│  │ │☑│ 角色名称  │ 所属部门│ 权限数量│人员数量 │  状态   │ 最后修改  │创建时间 │操作│ │ │
│  │ ├─┼──────────┼────────┼────────┼────────┼────────┼──────────┼────────┼────┤ │ │
│  │ │☑│ 系统管理员 │ 总部   │  12项  │  1人   │ 启用   │2024-03-10│01-01   │📝🔒│ │ │
│  │ │☑│ 销售经理  │ 销售部  │   8项  │  3人   │ 启用   │2024-03-12│01-15   │📝🔒│ │ │
│  │ │☑│ 销售员    │ 销售部  │   5项  │  8人   │ 启用   │2024-03-14│01-20   │📝🔒│ │ │
│  │ │☑│ 营销经理  │ 营销部  │   7项  │  2人   │ 启用   │2024-03-11│02-01   │📝🔒│ │ │
│  │ │☑│ 营销专员  │ 营销部  │   4项  │  5人   │ 启用   │2024-03-13│02-10   │📝🔒│ │ │
│  │ │─│ ...      │ ...    │ ...    │ ...    │ ...    │ ...      │ ...    │... │ │ │
│  │ └─┴──────────┴────────┴────────┴────────┴────────┴──────────┴────────┴────┘ │ │
│  │                                                                           │ │
│  │ [☑全选] [批量启用] [批量停用] [权限对比]             第1页/共2页  [<] [>] [跳转] │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

📝 新增/编辑角色页面

┌─────────────────────────────────────────────────────────────────────────────┐
│  ✖️ 新增角色                                                     [保存] [取消] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────┬─────────────────────────────────────────────────┐ │
│  │      📋 基本信息          │              🏢 部门信息                        │ │
│  │                        │                                                │ │
│  │  角色名称:              │  所属部门: [销售部 ▼]                           │ │
│  │  [________________]     │                                                │ │
│  │                        │  部门描述: 负责产品销售、客户维护等相关业务       │ │
│  │  角色描述:              │                                                │ │
│  │  [________________      │  上级部门: 总部                                │ │
│  │   ________________      │  部门负责人: 张明                               │ │
│  │   ________________]     │                                                │ │
│  │                        │  创建人: 系统管理员                             │ │
│  │  角色状态: [☑启用]      │  创建时间: 2024-01-15 10:30                    │ │
│  │                        │                                                │ │
│  └─────────────────────────┴─────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │                            🔐 权限配置                                    │ │
│  │                                                                           │ │
│  │  权限模板: [销售员模板 ▼] [应用模板]          [📋 从现有角色复制权限]        │ │
│  │                                                                           │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │ 📊 首页仪表盘                                           [全选/取消]    │ │ │
│  │  │ ☑ 查看仪表盘数据    ☑ 导出数据报表    ☐ 修改仪表盘配置                  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                           │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │ 📋 销售管理                                             [全选/取消]    │ │ │
│  │  │                                                                       │ │ │
│  │  │ 线索管理:                                                              │ │ │
│  │  │ ☑ 查看线索列表  ☑ 新增线索  ☑ 编辑线索  ☑ 删除线索  ☑ 分配线索          │ │ │
│  │  │ ☑ 导出线索数据  ☐ 批量导入线索                                         │ │ │
│  │  │                                                                       │ │ │
│  │  │ 客户管理:                                                              │ │ │
│  │  │ ☑ 查看客户信息  ☑ 新增客户  ☑ 编辑客户  ☑ 删除客户                      │ │ │
│  │  │ ☑ 客户分配      ☑ 导出客户数据  ☐ 客户合并                             │ │ │
│  │  │                                                                       │ │ │
│  │  │ 成单管理:                                                              │ │ │
│  │  │ ☑ 查看订单信息  ☑ 编辑订单  ☐ 删除订单  ☑ 订单状态更新                  │ │ │
│  │  │ ☑ 支付记录管理  ☑ 生成合同    ☐ 财务核算                              │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                           │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │ 📈 营销管理                                             [全选/取消]    │ │ │
│  │  │                                                                       │ │ │
│  │  │ 推广活动管理:                                                          │ │ │
│  │  │ ☑ 查看活动列表  ☐ 新增活动  ☐ 编辑活动  ☐ 删除活动                      │ │ │
│  │  │ ☑ 活动数据统计  ☐ 活动费用管理                                         │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                           │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │ ⚙️ 系统管理                                             [全选/取消]    │ │ │
│  │  │                                                                       │ │ │
│  │  │ 账号系统:                                                              │ │ │
│  │  │ ☐ 查看账号列表  ☐ 新增账号  ☐ 编辑账号  ☐ 删除账号                      │ │ │
│  │  │ ☐ 重置密码      ☐ 账号状态管理                                         │ │ │
│  │  │                                                                       │ │ │
│  │  │ 角色管理:                                                              │ │ │
│  │  │ ☐ 查看角色列表  ☐ 新增角色  ☐ 编辑角色  ☐ 删除角色                      │ │ │
│  │  │ ☐ 权限配置      ☐ 角色分配                                             │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

👁 角色详情页面

┌─────────────────────────────────────────────────────────────────────────────┐
│  ✖️ 角色详情 - 销售经理                                     [编辑] [复制] [关闭] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────┬─────────────────────────────────────────────────┐ │
│  │      📋 角色信息          │              📊 角色统计                        │ │
│  │                        │                                                │ │
│  │  角色名称: 销售经理      │  分配人数: 3人                                  │ │
│  │  所属部门: 销售部        │  活跃人数: 3人                                  │ │
│  │  角色状态: 启用         │  本月登录: 45次                                │ │
│  │  权限数量: 8项          │  平均在线: 6.5小时/天                           │ │
│  │                        │                                                │ │
│  │  创建时间:              │  权限使用率:                                    │ │
│  │  2024-01-15 10:30      │  ┌─────────────────────────────────────────────┐ │ │
│  │  创建人: 系统管理员      │  │ 线索管理 ████████████████████░░ 95%         │ │ │
│  │                        │  │ 客户管理 ████████████████████░░ 88%         │ │ │
│  │  角色描述:              │  │ 成单管理 ████████████████░░░░░░ 76%         │ │ │
│  │  负责销售部门的日常     │  │ 数据导出 ████████░░░░░░░░░░░░░░ 42%         │ │ │
│  │  管理工作，包括线索     │  └─────────────────────────────────────────────┘ │ │
│  │  分配、客户维护等       │                                                │ │
│  │                        │                                                │ │
│  └─────────────────────────┴─────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │                            👥 角色成员                                    │ │
│  │                                                                           │ │
│  │ ┌────────────┬──────────────┬──────────┬──────────┬──────────────────────┐ │ │
│  │ │   姓名      │     手机      │  状态     │最后登录   │        操作          │ │ │
│  │ ├────────────┼──────────────┼──────────┼──────────┼──────────────────────┤ │ │
│  │ │ 张明        │ 138****789   │ 在线     │今天 09:30│ [查看详情] [移除角色] │ │ │
│  │ │ 王芳        │ 139****456   │ 离线     │今天 18:20│ [查看详情] [移除角色] │ │ │
│  │ │ 李强        │ 137****123   │ 离线     │昨天 17:45│ [查看详情] [移除角色] │ │ │
│  │ └────────────┴──────────────┴──────────┴──────────┴──────────────────────┘ │ │
│  │                                                                           │ │
│  │  [+ 添加成员]                                              [管理所有成员] │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────────┐ │
│  │                            🔐 权限清单                                    │ │
│  │                                                                           │ │
│  │ ┌──────────────┬─────────────────┬─────────────────┬─────────────────────┐ │ │
│  │ │   功能模块    │      查看       │      编辑       │       删除          │ │ │
│  │ ├──────────────┼─────────────────┼─────────────────┼─────────────────────┤ │ │
│  │ │ 📊 首页仪表盘  │       ✅        │       ❌        │        ❌           │ │ │
│  │ │ 📋 线索管理    │       ✅        │       ✅        │        ✅           │ │ │
│  │ │ 👥 客户管理    │       ✅        │       ✅        │        ✅           │ │ │
│  │ │ 💰 成单管理    │       ✅        │       ✅        │        ❌           │ │ │
│  │ │ 📈 推广活动    │       ✅        │       ❌        │        ❌           │ │ │
│  │ │ 👤 账号系统    │       ❌        │       ❌        │        ❌           │ │ │
│  │ │ 🎭 角色管理    │       ❌        │       ❌        │        ❌           │ │ │
│  │ └──────────────┴─────────────────┴─────────────────┴─────────────────────┘ │ │
│  │                                                                           │ │
│  │  详细权限说明:                                                             │ │
│  │  • 可以查看和管理本部门的线索、客户信息                                     │ │ │
│  │  • 可以编辑成单信息但不能删除订单                                           │ │ │
│  │  • 可以查看推广活动数据但不能创建或修改                                     │ │ │
│  │  • 无法访问系统管理功能                                                     │ │ │
│  │                                                                           │ │
│  └───────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 设计说明

### 页面功能区域

#### 1. 角色列表页面
- **顶部操作栏**: 新增角色、权限模板、数据导出
- **筛选条件**: 多维度角色筛选功能
- **角色概览**: 角色状态统计信息
- **角色列表**: 核心信息展示和快捷操作

#### 2. 新增/编辑角色页面
- **基本信息**: 角色名称、描述和状态
- **部门信息**: 关联部门和层级关系
- **权限配置**: 详细的功能权限设置
- **权限模板**: 快速应用预设权限组合

#### 3. 角色详情页面
- **角色信息**: 完整的角色档案信息
- **角色统计**: 使用数据和活跃度统计
- **角色成员**: 分配到该角色的用户列表
- **权限清单**: 详细的权限矩阵展示

### 数据结构展示

#### 部门基本信息
- 部门名、创建人、创建时间
- 部门层级关系和负责人

#### 角色权限
- 页面功能1、页面功能2
- 操作权限（查看/编辑/删除）

#### 角色账号
- 账号1、账号2
- 用户与角色的关联关系

#### 角色基本信息
- 角色名称、描述、创建人、创建时间
- 角色状态（启用/停用）

### 权限体系设计

#### 1. 权限模块分类
- **首页仪表盘**: 数据查看、报表导出
- **销售管理**: 线索、客户、成单管理
- **营销管理**: 推广活动管理
- **系统管理**: 账号、角色管理

#### 2. 操作权限级别
- **查看权限**: 浏览数据和信息
- **编辑权限**: 修改和更新数据
- **删除权限**: 删除数据记录
- **管理权限**: 高级管理功能

#### 3. 权限继承关系
- **部门权限**: 基于部门的数据隔离
- **角色权限**: 角色内置的功能权限
- **个人权限**: 用户特殊的权限设置

### 角色层级结构

#### 系统管理员
- 所有模块的完整权限
- 系统配置和用户管理
- 数据备份和安全管理

#### 部门经理
- 本部门数据的管理权限
- 部门员工的分配权限
- 部门报表和统计权限

#### 业务员工
- 分配业务的操作权限
- 个人数据的维护权限
- 基础功能的使用权限

### 关键功能特性

#### 1. 权限模板
- **预设模板**: 常用角色权限组合
- **快速应用**: 一键应用权限模板
- **模板管理**: 自定义权限模板

#### 2. 权限复制
- **角色复制**: 从现有角色复制权限
- **权限对比**: 多角色权限对比分析
- **批量设置**: 批量权限配置操作

#### 3. 使用统计
- **权限使用率**: 各权限的实际使用情况
- **角色活跃度**: 角色成员的活跃统计
- **功能覆盖**: 权限配置的完整性分析

#### 4. 安全控制
- **权限审计**: 权限变更的完整记录
- **最小权限**: 按需分配的权限原则
- **权限回收**: 离职或调岗的权限回收

### 业务关系管理
- **一个账号只能有一种角色**: 角色唯一性
- **一个角色有多重权限**: 权限组合
- **一个部门有多个角色**: 层级管理

### 交互功能
- **实时预览**: 权限设置的实时效果预览
- **智能提醒**: 权限冲突和缺失提醒
- **快速搜索**: 权限和角色的快速定位
- **批量管理**: 多角色的批量操作支持
